<section class="relative">
  <a [routerLink]="['/movie', movie.id]">
    <div *ngIf="movie.images && movie.images.backdrops && movie.images.logos">
      <a [routerLink]="['/movie', movie.id]">
        <img
          [src]="
            movie.images.backdrops[0]
              ? 'https://image.tmdb.org/t/p/original/' +
                movie.images.backdrops[0].file_path
              : 'https://image.tmdb.org/t/p/w500/' + movie.poster_path
          "
          alt="Backdrop"
          class="object-cover"
          [ngClass]="{
            'lg:h-[80vh] lg:w-full h-[70vh] w-[100vw] lg:object-right-top md:object-right-top sm:object-right-top object-center':
              !cardCategory,
              'w-[30vw] h-[15vh] rounded-[10px]':cardCategory
          }"
        />
      </a>

      <div
        *ngIf="!cardCategory"
        class="absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-100"
      ></div>
      <div
        *ngIf="cardCategory"
        class="absolute inset-0 bg-gradient-to-t from-purple-600 to-transparent opacity-100 rounded-[10px]"
      ></div>

      <div
        *ngIf="!cardCategory"
        class="z-10 lg:top-[45vh] sm:top-[33vh] top-[45vh] lg:left-[20vw] text-white absolute left-1/2 -translate-x-1/2 drop-shadow-lg shadow-black"
      >
        <img
          [src]="
            'https://image.tmdb.org/t/p/original/' +
            movie.images.logos[0].file_path
          "
          alt="Logos"
          class="w-[80vw] sm:w-[40vw] lg:w-[20vw]"
        />
        <div
          *ngIf="!cardCategory"
          class="text-center text-[0.6rem] sm:text-[1rem] flex flex-col font-extralight mt-[2vh]"
        >
          <div class="flex justify-center">
            <span class="pr-[0.5rem] font-normal">
              {{ movie.genres[0].name }}
            </span>
            <span>
              {{ movie.release_date }}
            </span>
          </div>
          <div class="flex items-center justify-center">
            <svg
              class="w-4 h-4 text-yellow-300 mr-1"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 22 20"
            >
              <path
                d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"
              />
            </svg>
            <span>Vote Average: {{ movie.vote_average }}</span>
          </div>
        </div>
      </div>
      <ng-container *ngIf="(isHome() && !isMobile) && !cardCategory">
        <div
          class="z-10 lg:top-[70vh] md:left-[80vw] md:translate-x-0 sm:top-[60vh] sm:left-1/2 sm:-translate-x-1/2 absolute text-white bg-custom-input-color rounded-[15px] h-[3rem] sm:h-[2rem] lg:h-[3rem] w-[8rem] flex items-center justify-center"
        >
          <a
            class="sm:text-[0.8rem] lg:text-[1.2rem]"
            [routerLink]="['/movie', movie.id]"
            >More Info</a
          >
        </div>
      </ng-container>

      <ng-container *ngIf="!isHome() && !isMobile && !cardCategory">
        <app-add-to-list-button
          [onlyIcon]="false"
          [movieId]="movie.id"
          [moviePath]="movie.poster_path"
        ></app-add-to-list-button>
      </ng-container>

      <ng-container *ngIf="(!isHome() && isMobile) && !cardCategory">
        <div
          class="absolute top-[65vh] left-1/2 transform -translate-x-1/2 w-[90vw] lg:w-[7vw] lg:left-[20vw] lg:top-[69vh] items-center flex justify-between"
        >
          <app-like-button
            [movieId]="movie.id"
            [moviePath]="movie.poster_path"
          ></app-like-button>
          <app-add-to-list-button
            [onlyIcon]="true"
            [movieId]="movie.id"
            [moviePath]="movie.poster_path"
          ></app-add-to-list-button>
        </div>
      </ng-container>
    </div>
  </a>
</section>
